## 软件缺陷
### 定义
- 从产品内部看，软件缺陷是软件产品开发或维护过程中所存在的错误、毛病等各种问题；
- 从外部看，软件缺陷是系统所需要实现的某种功能的失效或违背。 
### 表现
- 软件没有实现产品说明书中描述的功能
- 软件实现了产品说明书中描述的不应有的功能
- 软件功能超出了产品说明书中指明的范围
- 软件未达到产品说明书中虽未指出但应当达到的目标
- 软件测试人员认为软件难以理解、不易使用，或者最终用户认为该软件使用效果不良
### 问题
#### 缺陷能否完全避免
无法避免，只能消除
#### 缺陷出现的阶段
每个阶段都会引入缺陷
#### 测试的时机
尽早的开始，一般在需求分析阶段开始就开始测试
#### 尽早开始测试的原因
- 大部分缺陷在需求和设计阶段就出现
- 越早发现缺陷，修复的成本越小
## 软件测试
### 概念
软件测试是为了**尽快尽早地**发现在软件产品中所存在的各种软件缺陷而展开的贯穿**整个软件开发生命周期**，对软件产品（包括阶段性产品）进行验证和确认的活动过程。
#### 验证(Verification)
是否正确的做事，验证开发过程是否遵守已定义好的内容
#### 确认(Validation)
是否做正确的事，确认产品所实现的功能是否满足用户的需求
#### 正向
- 为了验证软件是否符合用户需求，即验证软件产品是否能正常工作
- 一系列活动，以评价一个程序或系统的特性或能力并确定是否达到预期的结果
#### 反向
- 测试是为了证明程序有错，而不是证明程序无错误
- 一个好的测试用例是在于它能发现至今未发现的错误
- 一个成功的测试是发现了至今未发现的错误的测试 
### 阶段
- 需求评审
- 设计评审
- 单元测试
- 集成测试
- 系统测试
	- 是对整个系统的测试，将硬件、软件、操作人员看作一个整体，检验它是否有不符合系统说明书的地方。
- 验收测试
### 测试对象
程序 + 数据 + 文档
程序包括 UI + 组件 + 系统 + 数据库
### 质量模型
ISO的软件质量模型
- 外部质量模型和内部质量模型
- 使用质量模型
#### 外部和内部质量
##### 功能性
是指软件产品在指定条件下使用时，提供满足明确和隐含要求的功能的能力。
1. **适合性**：软件产品为特定的任务和用户目标提供一组合适功能的能力
2. **准确性**：软件产品提供具有所需精度的正确或相符的结果及效果的能力
3. **互操作性**：软件产品与一个或多个特征、系统相互配合的能力
4. **安全性保密性**：软件产品保护信息和数据的能力，以保证未受权的用户或系统不能阅读和修改这些信息与数据，而合法用户或系统不会被拒绝访问
5. **功能顺从性**：软件产品符合和该功能相关的标准、规范、规则或特定的能力
##### 可靠性
是指在特定条件下使用时，软件产品维持规定的性能级别能力
1. **成熟性**：软件产品为避免因软件故障而导致失效的能力。如软件对其内部错误的处理能力，如异常处理语句（try/catch/finally）
2. **容错性**：软件产品在软件发生故障或者违反指定接口的情况下，维持规定的性能级别的能力。主要指对软件外部错误的处理能力。如密码输入错误是否会有提示，如果没有提示，用户会不知道由于什么原因而无法正常登录
3. **可恢复性**：软件产品在失效发生的情况下，重建规定的性能级别并恢复直接影响的数据的能力
4. **可靠顺从性**：软件产品遵循与可靠性相关的标准、约定或规定的能力。如对于通信类产品，系统的故障率不能高于多少、故障恢复时间不能长于多少等
##### 易用性
易懂、易学、易用、漂亮好看。
1. **易理解性**：软件产品使用户能理解软件是否适合以及如何能将软件用于特定的任务和使用环境的能力
2. **易学性**：软件产品使用户能学习其应用的能力
3. **易操作性**：软件产品使用户能够操作的控制它的能力
4. **吸引性**：软件产品吸引用户的能力
5. **易用顺从性**：软件产品遵循与易用性相关的标准、约定、风格指南或法规的能力
##### 效率
是指在规定条件下，相对于所用资源的数量，软件产品可提供适当的性能的能力。通常，效率就是我们常说的产品性能。
1. **时间特性**：在规定条件下，软件产品执行其功能时，提供适当的响应和处理时间以及流量（吞吐量）的能力
2. **资源利用率**：在规定条件下，软件产品执行其功能时，使用合适数量和类别的资源的能力
3. **效率依从性**：软件产品遵循与效率相关的标准或约定的能力（如对系统资源的占有率不能高于多少）
##### 可维护性
是指产品可被修改的能力。这里的修改是指纠正、改进软件产品和软件产品对环境、功能规格变化的适应性。
1. **可分析性**：软件产品诊断软件中的缺陷、失效原因或识别待修改部分的能力
2. **可修改性**：软件产品能够被修改的能力。如封装性好，高内聚、低耦合的代码
3. **稳定性**：指软件系统在长实践连续工作环境下能否正常工作、不出错、无异常情况等
4. **可测试性**：软件产品已修改的部分能够被确认修复的能力
5. **可维护顺从性**：软件产品遵循与维护相关的标准或约定的能力
##### 可移植性
是指软件产品从一种环境迁移到另外一种环境的能力。这里的环境，可以理解为硬件、软件或组织等不同的环境。
1. **适应性**：软件产品无须采用额外的活动或手段就可适应不同指定环境的能力
2. **可安装性**：软件产品在指定环境中被安装的能力
3. **共存性**：软件产品在公共环境中与共享公共资源的其他系统共存的能力。如软件冲突问题
4. **易替换性**：软件产品在同样的环境下，替换另一个相同用途的指定软件产品的能力
5. **可移植顺从性**：软件产品遵循与可移植性相关的标准或约定的能力（如产品不是针对某款特定的操作系统开发的，需要支持Windows所有操作系统）
### 问题
#### 测试能否保证软件质量
不能，测试只是保证软件质量的重要手段
### 价值
1. 发现问题，提高产品质量
2. 持续提供质量反馈，控制产品风险
3. 全面评估产品质量，提供产品质量的全面客观的信息
4. 发现缺陷，有助于缺陷预防
### 分类
#### 测试是否执行程序
静态测试、动态测试
##### 静态测试
不运行程序测试
- 走查（Walk Through）
- 审查（Inspection）
- 评审（Review）
###### 工具
- CheckStyle
- PMD
- FindBug
- SourceMonitor
- JTest
##### 动态测试
运行程序测试
1. 设计测试用例
2. 搭建测试环境
3. 编写测试程序（脚本）
4. 执行测试
5. 分析测试结果

#### 测试是否针对系统的内部结构和具体实现算法来完成测试
黑盒测试、白盒测试
#### 从测试的对象和范围
单元测试、集成测试、系统测试、验收测试、回归测试、灰度测试、文档测试
#### 测试的目标
性能测试、安全性测试、兼容性测试、安装测试等
流量测试、电量测试、弱网络测试
#### 测试方式
手动测试、自动化测试
## 测试用例一般格式
1. 用例编号
2. 用例名称
3. 前置条件
4. 输入
5. 步骤
6. 预期输出
## 白盒测试
### 定义
- 内部的变量状态、逻辑结构、运行路径等
- 检验程序中的每条通路是否按预定的要求工作
- 检查程序内部动作或运行是否符合设计规格要求
- 所有内部成分是否按规定正常进行
### 逻辑覆盖
#### 1. 语句覆盖
每条可执行语句至少执行一次
- 是最弱的覆盖
#### 2. 判定覆盖
每个逻辑判断的分支至少经历一次
- 无法判定内部的错误，仍是弱的覆盖
#### 3. 条件覆盖
每个判定中的每个条件的取值至少满足一次
#### 4. 判定-条件覆盖
同时满足判定覆盖和条件覆盖
#### 5. 条件组合覆盖
每个判断表达式中**条件的各个可能组合**都至少出现一次
#### 6. 路径覆盖
每条可能路径都被覆盖
### 控制流图
![[Pasted image 20220606193959.png]]
#### 简化版
![[Pasted image 20220606194038.png]]
#### 圈复杂度
**基本路径数**的上界
V(G) = 围城的区域数量(包括图形外部) = 连线数 - 节点数 + 2 = 分支点数 + 1
### 指标
覆盖率
#### 工具
Jacoco、Ncover、Gcov
## 黑盒测试
### 定义
在完全不考虑程序内部结构和内部特性的情况下进行的测试
### 功能性测试
等价类划分、边界值分析、因果图法、判定表法、场景法……
#### 等价类划分
指某个输入域的**子集**
- 在该子集合中，各个输入数据对于揭露程序中的错误都是**等效**的，它们具有等价特性，都代表**一类数据**
##### 意义
完备性、无冗余性
##### 有效等价类
在范围内的用例，不在范围内称为**无效等价类**
##### 设计方法
每次设计用例时，**尽量覆盖**未被覆盖的**有效等价类**，且**仅覆盖一个**未覆盖的**无效等价类**
##### 注意
考虑 空格、空
#### 边界值分析
选取边界的作为用例
##### 选取
边界范围$\pm1$和边界值
- 除此之外的值算正常值
### 非功能性测试
安装测试、兼容性测试、性能测试、安全性测试、可靠性测试、界面测试……
#### 性能测试
发现系统性能问题或获取系统性能相关指标而进行的测试
##### 目标
1. 获取某些系统性能指标
2. 验证系统是否达到用户提出的性能指标
3. 发现存在的性能瓶颈，优化性能
##### 类型
###### 负载测试
一定负载条件下的系统性能，一般从较小负载开始，逐渐增加模拟用户的数量，观察指标，直至资源耗尽或超时
###### 压力测试
模拟实际应用的软硬件环境及用户使用过程的系统负荷，长时间或超大负荷地运行测试软件，来测试被测系统的性能、可靠性、稳定性
##### 指标
- 服务器的各项指标（CPU、内存占用率等）
- 后台数据库的各项指标
- 网络流量大小
- 响应时间长短
##### 过程
###### flat测试
一次加载所有用户
###### ramp-up测试
用户数量不断增加
##### 工具
Jmeter、Quest Benchmark Factory、LoadRunner
#### 安全性测试
xss、SQL注入、API身份验证、缓冲区溢出、口令设置、常用端口
#### 兼容性测试
##### 向前兼容
可以使用软件的**未来**版本
##### 向后兼容
可以使用软件的**以前**版本