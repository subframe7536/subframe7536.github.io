# 正则表达式
> 正则表达式可以匹配某些特定的数据，如果你想要从庞大的文字信息中提取出一小段你需要的数据，那么正则表达式或许能帮到你。

### 匹配字符组
字符组`[]`允许匹配一组可能出现的字符。
#### 例子
```txt
[Jj]ava => java/Java
```
### 区间
字符组中使用连字符`-`代表区间，依照这个规则，我们可以总结出三点：
1.  要匹配任意数字可以使用`[0-9]`；
2.  如果想要匹配所有小写字母，可以写成`[a-z]`；
3.  想要匹配所有大写字母可以写成`[A-Z]`。
### 匹配特殊字符
在正则中使用 `\` 就可以进行对特殊符号进行转义，对 `-` 进行转义就可以表示为 `\-`，即 `\-` 就代表了 `-` 号本身。
#### 例子
```txt
[\[] => [*^%)*
```
### 取反
可以通过在字符数组开头使用 `^` 字符实现取反操作，从而可以反转一个字符组（意味着会匹配任何指定字符之外的所有字符）。
`n[^e]` 的意思就是`n`后面的字母不能为 `e`。
#### 例子
```txt
[^a]b => bb
```
### 快捷写法
```txt
[0-9] 			=> 		\d (digit)
[a-zA-z0-9\_]	=>		\w (word)
space/tab/wrap	=>		\s (space)
word border		=>		\b (border)
{1,}			=>		+
{0,}			=>		*
[\basd\b]		=> 		asd/-asd-
```
#### 取反
小写变大写
### 字符串开始和结束
正则表达式中 `^`指定的是一个字符串的开始，`$`指定的是一个字符串的结束。
#### 例子
```txt
^a => a/aa/ab
b$ => b/ab/cab
```
### 任意字符
`.`字符代表匹配任何单个字符，它**只能出现在方括号以外**。
- 只有换行符`\n`不能匹配
#### 例子
```txt
.a => ba/ra
```
### 可选字符
这个时候我们可以使用 `?` 符号指定一个字符、字符组或其他基本单元可选，这意味着正则表达式引擎将会期望该字符出现**零次或一次**。
#### 例子
```txt
as?d => ad/asd
```
### 重复
在一个字符组后加上`{N}` 就可以表示在它之前的字符组出现`N`次。
#### 例子
```txt
\d{3}-\d{5} => 123-48675/755-48912
```
### 重复区间
`{M,N}`，`M`是下界而`N`是上界。
`N`可以不写，表示无限
#### 例子
```txt
\d{3,4}-\d{5} => 123-78945/1234-78915
```
### 分组
当使用分组`()`时，除了获得整个匹配。还能够在匹配中选择每一个分组。
#### 例子
```txt
(\d{4})-(\d{7}) => 1267-1534795 捕获1267和1534795
```
### 非捕获式分组
使用非捕获组`(?:表达式)`，从而**不捕获数据**，还能使用分组的功能。
### 或
使用分组的同时还可以使用或者`|`条件。
#### 例子
```txt
.+(.mp4|.avi|.wmv|.rmvb)
```
### 分组回溯
可以使用**分组的回溯引用**，使用`\N`可以引用编号为`N`的分组
#### 例子
```txt
<(\w+)>.*?</\1> => <h1>asd</h1>
```
### 替换选择分组
可以使用`$n`在替换时选择匹配的第n组内容
```txt
-(\d) => $1
替换结果：
		-1 => 1
		-2 => 2
```
### 先行断言
#### 正向先行断言
`(?=表达式)`，指在某个位置向右看，表示所在位置右侧必须能匹配`表达式`
#### 反向先行断言
`(?!表达式)`，指在某个位置向右看，表示所在位置右侧必须不能匹配`表达式`
### 后行断言
#### 正向后行断言
`(?<=表达式)`，指在某个位置向左看，表示所在位置左侧必须能匹配`表达式`
#### 反向后行断言
`(?<!表达式)`，指在某个位置向左看，表示所在位置左侧必须不能匹配`表达式`
## 例子
### 匹配IP地址
```txt
(2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2}
```