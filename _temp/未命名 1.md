
微服务通信框架及治理平台OCTO作为美团基础架构设施的重要组成部分，目前已广泛应用于公司技术线，稳定承载上万应用、日均支撑千亿级的调用。业务基于OCTO提供的标准化技术方案，能够轻松实现服务注册/发现、负载均衡、容错处理、降级熔断、灰度发布、调用数据可视化等服务治理功能，部分开源。[OCTO-RPC](https://github.com/Meituan-Dianping/octo-rpc)、[OCTO-NS](https://github.com/Meituan-Dianping/octo-ns)、[OCTO-Portal](https://github.com/Meituan-Dianping/octo-portal)深入了解。
[架构图](https://p0.meituan.net/travelcube/fef180785379d4b95e3dbe4b0b2a8c2d97132.jpg)

API网关是运行于外部请求与内部服务之间的一个流量入口，实现对外部请求的协议转换、鉴权、流控、参数校验、监控等通用功能
[Shepherd API网关架构](https://p1.meituan.net/travelcube/32beab1d103a719ce2647d890522cd8e530614.png)
- **提升研发效率**
    - 业务研发人员只需要通过配置的方式即可快速开放服务接口。
    - Shepherd统一提供鉴权、限流、熔断等非业务基础能力。
    - Shepherd支持业务研发人员通过开发自定义组件的方式扩展API网关能力。
- **降低沟通成本**
    - 业务研发人员配置好API，可以自动生成API的前后端交互文档和客户端SDK，方便前后端开发人员进行交互、联调。
- **提升资源利用率**
    - 基于Serverless的架构思想，实现API全托管，业务研发人员无需关心机器资源问题。

Shepherd API网关的**控制面**由Shepherd管理平台和Shepherd监控中心组成。管理平台主要完成API的全生命周期管理以及配置下发的工作，监控中心完成API请求监控数据的收集和业务告警功能。

Shepherd API网关的**配置中心**主要完成控制面与数据面的信息交互，通过美团统一配置服务Lion来实现。

Shepherd API网关的**数据面**也就是Shepherd 服务端。一次完整的API请求，可能是从移动应用、Web应用，合作伙伴或内部系统发起，经过Nginx负载均衡系统后，到达服务端。服务端集成了一系列的基础功能组件和业务自定义组件，通过泛化调用请求后端RPC服务、HTTP服务、函数服务或服务编排服务，最后返回响应结果。
[API调用路径](https://p1.meituan.net/travelcube/8d9184431f36f8e2b1f4cd396fbc71ae221623.png)

